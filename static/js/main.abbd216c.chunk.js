(this["webpackJsonpfqm-execution-demo"]=this["webpackJsonpfqm-execution-demo"]||[]).push([[0],{287:function(e,t,n){},862:function(e,t){},864:function(e,t){},947:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),c=n.n(r),i=n(19),l=n.n(i),s=n(7),o=(n(287),n(10)),u=n(33),j=n.n(u),d=n(107),b=n(8),O=n(446),h=n(981),p=n(1010),x=n(994),m=n(985),v=n(1014),f=n(435),g=n(278),y=n(437),R=Object(s.b)({key:"calculationOptions",default:{calculateHTML:!1,calculateSDEs:!1,reportType:"individual"}}),C=Object(s.b)({key:"outputType",default:"gapsInCare"}),S=Object(s.b)({key:"measurementPeriod",default:{measurementPeriodStart:new Date("1/1/2019"),measurementPeriodEnd:new Date("12/31/2019")}}),k=Object(s.b)({key:"measureFile",default:{name:null,content:null}}),D=Object(s.b)({key:"patientFile",default:{name:null,content:null}}),w=Object(s.c)({key:"measureDropdownSelector",get:function(){var e=Object(d.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.github.com/repos/dbcg/connectathon/contents/fhir401/bundles/measure");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n.map((function(e){return e.name})));case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()}),T=Object(s.b)({key:"measureDropdownOptions",default:w}),F=Object(s.c)({key:"patientDropdownOptions",get:function(){var e=Object(d.a)(j.a.mark((function e(t){var n,a,r,c,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.get,a=n(k),!(r=a.name)){e.next=16;break}return e.prev=3,e.next=6,fetch("https://api.github.com/repos/dbcg/connectathon/contents/fhir401/bundles/measure/".concat(r,"/").concat(r,"-files"));case 6:return c=e.sent,e.next=9,c.json();case 9:return i=e.sent,e.abrupt("return",i.map((function(e){return e.name})).filter((function(e){return e.startsWith("tests")})));case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",[]);case 16:return e.abrupt("return",[]);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}()}),N=Object(s.b)({key:"results",default:null}),I=Object(s.b)({key:"htmls",default:[]});function M(){var e=Object(f.a)(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 20px;\n  border-width: 2px;\n  border-radius: 2px;\n  border-color: ",";\n  border-style: dashed;\n  background-color: #fafafa;\n  color: #7f7f7f;\n  outline: none;\n  transition: border 0.24s ease-in-out;\n"]);return M=function(){return e},e}var P=y.a.div(M(),(function(e){return function(e){return e.isDragAccept?"#00e676":e.isDragReject?"#ff1744":e.isDragActive?"#2196f3":"#eeeeee"}(e)})),q=function(){var e=Object(s.f)(k),t=Object(s.f)(N),n=Object(r.useCallback)((function(n){t(null);var a=n[0],r=new FileReader;r.onload=function(){e({name:a.path,content:JSON.parse(r.result),fromFileUpload:!0})},r.readAsText(a)}),[e,t]),c=Object(g.a)({onDrop:n,accept:".json"}),i=c.getRootProps,l=c.getInputProps,u=c.isDragActive,j=c.isDragAccept,d=c.isDragReject;return Object(a.jsx)(h.a,{item:!0,xs:12,children:Object(a.jsxs)(P,Object(o.a)(Object(o.a)({},i({className:"dropzone",isDragActive:u,isDragAccept:j,isDragReject:d})),{},{children:[Object(a.jsx)("input",Object(o.a)({},l())),Object(a.jsx)("p",{children:"Drag and drop file here, or click to select file"})]}))})},A=function(){var e=Object(s.f)(D),t=Object(s.f)(N),n=Object(s.e)(C),c=Object(r.useCallback)((function(n){t(null);var a=n[0],r=new FileReader;r.onload=function(){e({name:a.path,content:JSON.parse(r.result),fromFileUpload:!0})},r.readAsText(a)}),[e,t]),i=Object(g.a)({onDrop:c,accept:".json",disabled:"dataRequirement"===n}),l=i.getRootProps,u=i.getInputProps,j=i.isDragActive,d=i.isDragAccept,b=i.isDragReject;return Object(a.jsx)(h.a,{item:!0,xs:12,children:Object(a.jsxs)(P,Object(o.a)(Object(o.a)({},l({className:"dropzone",isDragActive:j,isDragAccept:d,isDragReject:b})),{},{children:[Object(a.jsx)("input",Object(o.a)({},u())),Object(a.jsx)("p",{children:"Drag and drop file here, or click to select file"})]}))})},L=n(986),E=n(1008),B=n(1017),H=Object(m.a)((function(e){return Object(v.a)({root:{width:"100%"}})}));function J(){var e=H(),t=Object(s.e)(T),n=Object(s.d)(k),r=Object(b.a)(n,2),c=r[0],i=r[1],l=Object(s.f)(N);return Object(a.jsx)("div",{style:{width:"100%"},children:Object(a.jsx)(L.a,{className:e.root,children:Object(a.jsx)(E.a,{value:c.name||"",onChange:function(e){l(null);var t=e.target.value;fetch("https://raw.githubusercontent.com/DBCG/connectathon/master/fhir401/bundles/measure/"+t+"/"+t+"-bundle.json").then((function(e){return e.json()})).then((function(e){i({name:t,content:e,fromFileUpload:!1})})).catch((function(e){return console.log("error: ",e)}))},disabled:null!==c.content&&!0===c.fromFileUpload,children:t.map((function(e){return Object(a.jsx)(B.a,{value:e,children:e},e)}))})})})}function U(){var e=H(),t=Object(s.d)(D),n=Object(b.a)(t,2),r=n[0],c=n[1],i=Object(s.e)(k),l=Object(s.e)(F),o=Object(s.f)(N),u=Object(s.e)(C);return Object(a.jsx)("div",{style:{width:"100%"},children:Object(a.jsx)(L.a,{className:e.root,children:Object(a.jsx)(E.a,{value:r.name||"",onChange:function(e){o(null);var t=e.target.value;fetch("https://raw.githubusercontent.com/DBCG/connectathon/master/fhir401/bundles/measure/".concat(i.name,"/").concat(i.name,"-files/").concat(t)).then((function(e){return e.json()})).then((function(e){c({name:t,content:e,fromFileUpload:!1})})).catch((function(e){return console.log("error: ",e)}))},disabled:null!==r.content&&!0===r.fromFileUpload||"dataRequirement"===u,children:l.map((function(e){return Object(a.jsx)(B.a,{value:e,children:e},e)}))})})})}var z=n(274),G=n.n(z),Q=n(989),W=function(){return Object(a.jsx)(h.a,{container:!0,justify:"center",children:Object(a.jsx)(Q.a,{})})},V=Object(m.a)((function(e){return Object(v.a)({fileName:{color:"#009688"}})}));function K(){var e=V(),t=Object(s.d)(k),n=Object(b.a)(t,2),i=n[0],l=n[1],o=Object(s.d)(D),u=Object(b.a)(o,2),j=u[0],d=u[1];return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsxs)(h.a,{item:!0,xs:6,children:[Object(a.jsx)("h2",{children:"Measure Bundle: "}),Object(a.jsx)(h.a,{container:!0,children:null!==i.name?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("h3",{className:e.fileName,children:[" ",i.name]}),Object(a.jsx)(O.a,{"aria-label":"delete",onClick:function(){l({name:null,content:null}),d({name:null,content:null})},children:Object(a.jsx)(G.a,{fontSize:"small"})})]}):Object(a.jsx)("h3",{className:e.fileName,children:"None Selected"})}),Object(a.jsx)("h4",{children:"Upload From File System:"}),Object(a.jsx)(q,{}),Object(a.jsx)("h4",{children:"OR Select From Connectathon Repository:"}),Object(a.jsx)(r.Suspense,{fallback:Object(a.jsx)(W,{}),children:Object(a.jsx)(J,{})})]}),Object(a.jsxs)(h.a,{item:!0,xs:6,children:[Object(a.jsx)("h2",{children:"Patient Bundle: "}),Object(a.jsx)(h.a,{container:!0,children:null!==j.name?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h3",{className:e.fileName,children:j.name}),Object(a.jsx)(O.a,{"aria-label":"delete",onClick:function(){d({name:null,content:null})},children:Object(a.jsx)(G.a,{fontSize:"small"})})]}):Object(a.jsx)("h3",{className:e.fileName,children:"None Selected"})}),Object(a.jsx)("h4",{children:"Upload From File System:"}),Object(a.jsx)(A,{}),Object(a.jsx)("h4",{children:"OR Select From Connectathon Repository:"}),Object(a.jsx)(r.Suspense,{fallback:Object(a.jsx)(W,{}),children:Object(a.jsx)(U,{})})]})]})}var X=n(147),Y=n(949),Z=n(990),$=n(1013);var _=function(){var e=Object(s.e)(C),t=Object(s.d)(R),n=Object(b.a)(t,2),r=n[0],c=n[1],i=function(e){c(Object(o.a)(Object(o.a)({},r),{},Object(X.a)({},e.target.name,e.target.checked)))};return Object(a.jsxs)(Y.a,{children:[Object(a.jsx)(Z.a,{control:Object(a.jsx)($.a,{checked:"rawResults"!==e&&"dataRequirement"!==e&&"individual"===r.reportType&&r.calculateSDEs,onChange:i,disabled:"rawResults"===e||"dataRequirement"===e||"measureReports"===e&&"summary"===r.reportType,name:"calculateSDEs",color:"primary"}),label:"Calculate SDEs"}),Object(a.jsx)(Z.a,{control:Object(a.jsx)($.a,{checked:"rawResults"!==e&&"dataRequirement"!==e&&"summary"!==r.reportType&&r.calculateHTML,onChange:i,disabled:"rawResults"===e||"dataRequirement"===e||"measureReports"===e&&"summary"===r.reportType,name:"calculateHTML",color:"primary"}),label:"Calculate HTML"})]})},ee=n(443),te=n(43),ne=n(1007);var ae=function(){var e=Object(s.d)(S),t=Object(b.a)(e,2),n=t[0],r=t[1];return Object(a.jsxs)(te.a,{utils:ee.a,children:[Object(a.jsx)("h3",{children:"Measurement Start: "}),Object(a.jsx)(ne.a,{value:n.measurementPeriodStart,format:"MM/dd/yyyy",onChange:function(e){r(Object(o.a)(Object(o.a)({},n),{},{measurementPeriodStart:e}))}}),Object(a.jsx)("h3",{children:"Measurement End: "}),Object(a.jsx)(ne.a,{value:n.measurementPeriodEnd,format:"MM/dd/yyyy",onChange:function(e){r(Object(o.a)(Object(o.a)({},n),{},{measurementPeriodEnd:e}))}})]})},re=n(1012),ce=n(992);var ie=function(){var e=Object(s.d)(C),t=Object(b.a)(e,2),n=t[0],r=t[1],c=Object(s.d)(R),i=Object(b.a)(c,2),l=i[0],u=i[1];return Object(a.jsx)(L.a,{component:"fieldset",children:Object(a.jsxs)(ce.a,{name:"type",value:n,onChange:function(e){var t=e.target.value;"gapsInCare"!==t&&"detailedResults"!==t||u(Object(o.a)(Object(o.a)({},l),{},{reportType:"individual"})),r(t)},children:[Object(a.jsx)(Z.a,{control:Object(a.jsx)(re.a,{color:"primary"}),value:"gapsInCare",label:"Gaps In Care"}),Object(a.jsx)(Z.a,{control:Object(a.jsx)(re.a,{color:"primary"}),value:"rawResults",label:"Raw"}),Object(a.jsx)(Z.a,{control:Object(a.jsx)(re.a,{color:"primary"}),value:"detailedResults",label:"Detailed"}),Object(a.jsx)(Z.a,{control:Object(a.jsx)(re.a,{color:"primary"}),value:"measureReports",label:"Measure Reports"}),Object(a.jsx)(Z.a,{control:Object(a.jsx)(re.a,{color:"primary"}),value:"dataRequirement",label:"Data Requirements"})]})})};var le=function(){var e,t,n=Object(s.e)(C),r=Object(s.d)(R),c=Object(b.a)(r,2),i=c[0],l=c[1];return Object(a.jsx)(L.a,{component:"fieldset",children:Object(a.jsxs)(ce.a,{name:"type",value:i.reportType,onChange:function(e){var t=e.target.value;l(Object(o.a)(Object(o.a)({},i),{},{reportType:t}))},children:[Object(a.jsx)(Z.a,{control:Object(a.jsx)(re.a,{color:"primary"}),value:"individual",checked:"measureReports"===n&&null!==(e="individual"===i.reportType)&&void 0!==e&&e,label:"Individual",disabled:"measureReports"!==n}),Object(a.jsx)(Z.a,{control:Object(a.jsx)(re.a,{color:"primary"}),value:"summary",checked:"measureReports"===n&&null!==(t="summary"===i.reportType)&&void 0!==t&&t,label:"Summary",disabled:"measureReports"!==n})]})})};function se(){return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsxs)(h.a,{item:!0,xs:3,children:[Object(a.jsx)("h3",{children:"Output Type:"}),Object(a.jsx)(ie,{})]}),Object(a.jsxs)(h.a,{item:!0,xs:3,children:[Object(a.jsx)("h3",{children:"Calculation Options:"}),Object(a.jsx)(_,{})]}),Object(a.jsxs)(h.a,{item:!0,xs:3,children:[Object(a.jsx)("h3",{children:"Report Type:"}),Object(a.jsx)(le,{})]}),Object(a.jsx)(h.a,{item:!0,xs:3,children:Object(a.jsx)(ae,{})})]})}var oe=n(991),ue=n(152),je=n(29),de=n(993),be=Object(m.a)((function(e){return Object(v.a)({root:{display:"flex-grow",flexDirection:"column",alignItems:"center","& > *":{margin:e.spacing(1)}},formControl:{margin:e.spacing(1)},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200},container:{display:"flex-grow"},buttons:{margin:"4px"},resultsButton:{backgroundColor:"#7FFF00"}})}));function Oe(){var e=be(),t=Object(s.f)(N),n=Object(s.d)(I),c=Object(b.a)(n,2)[1],i=Object(r.useState)(null),l=Object(b.a)(i,2),u=l[0],m=l[1],v=Object(s.d)(k),f=Object(b.a)(v,2),g=f[0],y=f[1],w=Object(s.d)(D),T=Object(b.a)(w,2),F=T[0],M=T[1],P=Object(s.d)(R),q=Object(b.a)(P,2),A=q[0],L=q[1],E=Object(s.d)(C),B=Object(b.a)(E,2),H=B[0],J=B[1],U=Object(s.e)(S),z=Object(je.e)(),G=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q();case 3:z.push("/results"),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),m(e.t0.message),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(d.a)(j.a.mark((function e(){var n,a,r,i,l,s,u,d,b,O,h,p,x,m,v,f,y,R,C,S;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(o.a)(Object(o.a)({},A),{},{measurementPeriodStart:null===(n=U.measurementPeriodStart)||void 0===n?void 0:n.toISOString(),measurementPeriodEnd:null===(a=U.measurementPeriodEnd)||void 0===a?void 0:a.toISOString()}),t(null),c([]),"rawResults"!==H){e.next=12;break}if(!g.content||!F.content){e.next=10;break}return e.next=7,ue.Calculator.calculateRaw(g.content,[F.content],r);case 7:i=e.sent,l=i.results,t(l);case 10:e.next=50;break;case 12:if("detailedResults"!==H){e.next=23;break}if(!g.content||!F.content){e.next=21;break}return e.next=16,ue.Calculator.calculate(g.content,[F.content],r);case 16:s=e.sent,u=s.results,t(u),d=[],null!==u&&!0===A.calculateHTML&&(null===(b=u[0].detailedResults)||void 0===b||b.forEach((function(e){d.push({groupId:e.groupId,html:e.html||""})})),c(d));case 21:e.next=50;break;case 23:if("measureReports"!==H){e.next=33;break}if(!g.content||!F.content){e.next=31;break}return e.next=27,ue.Calculator.calculateMeasureReports(g.content,[F.content],r);case 27:O=e.sent,h=O.results,A.calculateHTML&&"individual"===A.reportType&&(p=(Array.isArray(h)?h:[h]).map((function(e){var t;return{groupId:e.id||"",html:(null===(t=e.text)||void 0===t?void 0:t.div)||""}})),c(p)),t(h);case 31:e.next=50;break;case 33:if("gapsInCare"!==H){e.next=43;break}if(!g.content||!F.content){e.next=41;break}return e.next=37,ue.Calculator.calculateGapsInCare(g.content,[F.content],r);case 37:x=e.sent,m=x.results,A.calculateHTML&&(null===(f=null===(v=m.entry)||void 0===v?void 0:v.find((function(e){var t;return"MeasureReport"===(null===(t=e.resource)||void 0===t?void 0:t.resourceType)})))||void 0===f?void 0:f.resource)&&(R=f.resource,c([{groupId:R.id||"",html:(null===(y=R.text)||void 0===y?void 0:y.div)||""}])),t(m);case 41:e.next=50;break;case 43:if("dataRequirement"!==H){e.next=50;break}if(!g.content){e.next=50;break}return e.next=47,ue.Calculator.calculateDataRequirements(g.content,r);case 47:C=e.sent,S=C.results,t(S);case 50:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(de.a,{in:null!==u,children:Object(a.jsx)(p.a,{severity:"error",action:Object(a.jsx)(O.a,{size:"small",onClick:function(){return m(null)},children:Object(a.jsx)(x.a,{})}),children:u})}),Object(a.jsxs)(h.a,{children:[Object(a.jsx)("h1",{id:"header",children:"FQM Execution Demo"}),Object(a.jsx)(h.a,{container:!0,justify:"space-evenly",children:Object(a.jsx)(h.a,{container:!0,item:!0,xs:11,spacing:2,children:Object(a.jsx)(K,{})})}),Object(a.jsx)(h.a,{container:!0,spacing:1,justify:"space-evenly",children:Object(a.jsx)(h.a,{container:!0,item:!0,xs:11,spacing:2,children:Object(a.jsx)(se,{})})}),Object(a.jsxs)(h.a,{container:!0,justify:"center",direction:"row",children:[Object(a.jsx)(oe.a,{variant:"contained",onClick:function(){y({name:null,content:null}),M({name:null,content:null}),L({calculateHTML:!1,calculateSDEs:!1,reportType:"individual"}),J("gapsInCare"),t(null),c([]),m(null)},className:e.buttons,children:"Reset"}),Object(a.jsx)(oe.a,{variant:"contained",color:"primary",onClick:G,className:e.buttons,disabled:null===g.content||null===F.content&&"dataRequirement"!==H,children:"Calculate"})]})]})]})}var he=n(996),pe=n(1009),xe=n(997),me=n(998),ve=n(281),fe=n(277),ge=n.n(fe),ye=n(441),Re=n.n(ye),Ce=n(442),Se=n.n(Ce),ke=n(995),De=n(13),we=n.n(De),Te=Object(m.a)((function(){return{highlightedMarkup:{"& pre":{whiteSpace:"pre-wrap"}},buttonContainer:{justifyContent:"center",display:"flex",paddingTop:"24px"}}})),Fe=function(e){var t,n=e.measureFile,r=e.patientFile,i=e.htmls,l=Te(),o=Object(s.e)(C),u=Object(s.e)(R),j=Object(s.e)(N),d=we.a.evaluate(j,"Bundle.entry.resource.DetectedIssue");!function(e){e.JSON="0",e.HTML="1",e.TABULAR="2",e.ACCORDION="3"}(t||(t={}));var p=c.a.useState(t.JSON),x=Object(b.a)(p,2),m=x[0],v=x[1],f=Object(je.e)(),g=function(){return i.length>0},y=function(){return"gapsInCare"===o},S=function(){return"measureReports"===o&&"individual"===u.reportType};return Object(a.jsxs)(ve.a,{value:m,children:[Object(a.jsx)(he.a,{position:"static",children:Object(a.jsxs)(pe.a,{TabIndicatorProps:{style:{background:"white"}},"aria-label":"results tabs",onChange:function(e,t){v(t)},value:m,indicatorColor:"primary",variant:"fullWidth",centered:!0,children:[Object(a.jsx)(xe.a,{label:"Raw JSON",value:t.JSON}),g()&&Object(a.jsx)(xe.a,{label:"Highlighted HTML",value:t.HTML}),S()&&Object(a.jsx)(xe.a,{label:"Tabular",value:t.TABULAR}),y()&&Object(a.jsx)(xe.a,{label:"Accordion",value:t.ACCORDION})]})}),Object(a.jsx)("div",{className:l.buttonContainer,children:Object(a.jsx)(oe.a,{variant:"contained",onClick:function(){return f.push("/fqm-execution-demo")},children:"Home"})}),Object(a.jsx)(me.a,{value:t.JSON,children:Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(h.a,{container:!0,item:!0,xs:!0,direction:"column",justify:"center",alignItems:"center",children:[j&&Object(a.jsx)("h2",{children:"JSON:"}),j&&Object(a.jsx)(O.a,{onClick:function(){var e;Se()(JSON.stringify(j,null,2),(null===(e=n.name)||void 0===e?void 0:e.includes(".json"))?"results-".concat(n.name):"results-".concat(n.name,".json"))},children:Object(a.jsx)(ke.a,{fontSize:"small"})}),j&&Object(a.jsx)(ge.a,{src:j,enableClipboard:!0,theme:"shapeshifter:inverted",collapsed:2}),r&&"dataRequirement"!==o&&Object(a.jsx)("h2",{children:"Patient Bundle:"}),r&&"dataRequirement"!==o&&Object(a.jsx)(ge.a,{src:r,enableClipboard:!0,theme:"shapeshifter:inverted",collapsed:2})]})})}),g()&&Object(a.jsx)(me.a,{value:t.HTML,children:Object(a.jsx)(h.a,{item:!0,xs:!0,children:j&&i&&i.map((function(e){return Object(a.jsxs)("div",{className:l.highlightedMarkup,children:[Object(a.jsx)("h2",{children:"HTML:"}),Re()(e.html)]},e.groupId)}))})}),S()&&Object(a.jsx)(me.a,{value:t.TABULAR,children:Object(a.jsx)(h.a,{container:!0,item:!0,xs:12,direction:"row",justify:"center",alignItems:"center",children:we.a.evaluate(j,"MeasureReport.group").map((function(e){var t=j?we.a.evaluate(j,"MeasureReport.subject.reference")[0].split("/"):"";return Object(a.jsxs)(h.a,{container:!0,item:!0,xs:12,direction:"column",justify:"center",alignItems:"center",children:[Object(a.jsxs)("h2",{children:[e.id," Population Results"]}),Object(a.jsx)(Le,{results:e,id:t},e.id)]},e.id)}))})}),y()&&Object(a.jsx)(me.a,{value:t.ACCORDION,children:Object(a.jsx)(a.Fragment,{children:j&&d.map((function(e,t){var n=we.a.evaluate(e,"id");return Object(a.jsxs)(h.a,{container:!0,item:!0,xs:12,direction:"column",justify:"center",alignItems:"center",children:[Object(a.jsxs)("h3",{children:["Detected Issue ",t+1]}),Object(a.jsxs)("h4",{children:[we.a.evaluate(e,"contained.GuidanceResponse").length," Guidance Response(s)"]}),Object(a.jsx)(Ze,{detectedIssue:e})]},n)}))})})]})},Ne=n(999),Ie=n(1e3),Me=n(1001),Pe=n(1002),qe=n(1003);var Ae=Object(m.a)({table:{width:100},tableCell:{padding:"0px 10px"}}),Le=function(e){for(var t=e.results,n=e.id,r=Object(s.e)(D),c=null===r.content?null:function(e,t){var n,a=null===(n=e.entry)||void 0===n?void 0:n.find((function(e){var n,a;return"Patient"===(null===(n=e.resource)||void 0===n?void 0:n.resourceType)&&(null===(a=e.resource)||void 0===a?void 0:a.id)===t}));return void 0===a?null:a.resource}(r.content,n[1]),i=Ae(),l=["Patient Name","DOB","Gender"],o=0;o<we.a.evaluate(t,"population").length;o++)l.push(we.a.evaluate(t,"population.code.coding.display[".concat(o,"]")));var u=["".concat(we.a.evaluate(c,"Patient.name.given")," ").concat(we.a.evaluate(c,"Patient.name.family")),we.a.evaluate(c,"Patient.birthDate"),we.a.evaluate(c,"Patient.gender")];for(var j in we.a.evaluate(t,"population"))u.push(we.a.evaluate(t,"population.count[".concat(j,"]")));return Object(a.jsxs)(Ne.a,{className:i.table,size:"small",children:[Object(a.jsx)(Ie.a,{children:Object(a.jsx)(Me.a,{children:l.map((function(e){return Object(a.jsx)(Pe.a,{className:i.tableCell,align:"left",children:e})}))})}),Object(a.jsx)(qe.a,{children:u.map((function(e){return Object(a.jsx)(Pe.a,{align:"left",children:e})}))})]})},Ee=n(6),Be=n(1015),He=n(1018),Je=n(1005),Ue=n(1006),ze=n(447),Ge=n(1004),Qe=Object(m.a)((function(e){return Object(v.a)({popover:{pointerEvents:"none"},paper:{padding:e.spacing(1)},reasonDetail:{paddingLeft:"32px",paddingTop:"12px","&:hover":{cursor:"pointer"}}})})),We=Object(Ee.a)({root:{backgroundColor:"rgba(0, 0, 0, .03)",borderBottom:"1px solid rgba(0, 0, 0, .125)"},expanded:{}})(Ge.a);function Ve(e){var t=we.a.evaluate(e,"dataRequirement.extension.where(url = 'http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-valueFilter')");return(null===t||void 0===t?void 0:t.length)>0?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h4",{children:"Values:"}),t.map((function(e){var t=e.extension,n=t.find((function(e){return"path"===e.url})),r=t.find((function(e){return"comparator"===e.url})),c=t.find((function(e){return"value"===e.url}));return Object(a.jsxs)(h.a,{item:!0,xs:!0,children:["- ",Object(a.jsxs)("i",{children:[".",n.valueString]})," ".concat(Ke(r.valueCode)," ")," ".concat(Xe(c))]},n.valueString)}))]}):""}function Ke(e){switch(e){case"eq":return"=";case"gt":return">";case"lt":return"<";case"ge":return">=";case"le":return"<="}}function Xe(e){return e.valueString?e.valueString:e.valueBoolean?e.valueBoolean.toString():e.valueInteger?e.valueInteger.toString():e.valueQuantity?Ye(e.valueQuantity):e.valueRatio?"".concat(e.valueRatio.numerator,"/").concat(e.valueRatio.denominator):e.valueRange?"".concat(Ye(e.valueRange.low)," - ").concat(Ye(e.valueRange.high)):""}function Ye(e){return e?"".concat(e.value," ").concat(e.unit):""}var Ze=function(e){var t=e.detectedIssue,n=we.a.evaluate(t,"contained.GuidanceResponse"),r=Object(s.e)(k),i=Object(s.e)(D),l=Qe(),o=c.a.useState(null),u=Object(b.a)(o,2),j=u[0],d=u[1],O=c.a.useState(null),p=Object(b.a)(O,2),x=p[0],m=p[1],v=function(e,t){var n=we.a.evaluate(t,"extension.valueReference.reference")[0],r=we.a.evaluate(t,"extension.valueString")[0];if(i.content){var c=function(e,t){var n,a=t.split("/"),r=Object(b.a)(a,2),c=r[0],i=r[1],l=null===(n=e.entry)||void 0===n?void 0:n.find((function(e){var t,n;return(null===(t=e.resource)||void 0===t?void 0:t.resourceType)===c&&(null===(n=e.resource)||void 0===n?void 0:n.id)===i}));return void 0===l?null:l.resource}(i.content,n);m(e.currentTarget);var l=function(e,t){if(e){var n=t.split("."),a=new RegExp(n[0]+".*"),r=Object.keys(e).find((function(e){return a.test(e)}));if(r){var c=n.slice(1),i=e[r],l=r;if(c.forEach((function(e){i&&(i=i[e],l=e)})),void 0===i)return null;if("string"===typeof i)i='"'.concat(i,'"');else if("object"===typeof i)return'"'.concat(l,'"');return'"'.concat(l,'": ').concat(i)}}return null}(c,r);d(function(e,t){var n=JSON.stringify(t,null,2);if(e){var r=n.split(e);if(2===r.length){var c=Object(b.a)(r,2),i=c[0],l=c[1];return Object(a.jsx)("pre",{children:Object(a.jsxs)("code",{children:[i,Object(a.jsx)("mark",{children:e}),l]})})}}return Object(a.jsx)("pre",{children:Object(a.jsx)("code",{children:n})})}(l,c))}},f=function(){m(null),d(null)},g=Boolean(x);return Object(a.jsxs)("div",{children:[Object(a.jsx)(Be.a,{id:"mouse-over-popover",className:l.popover,classes:{paper:l.paper},open:g,anchorEl:x,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:f,children:j}),n.map((function(e,t){var n=we.a.evaluate(e,"id"),c=we.a.evaluate(e,"dataRequirement.codeFilter"),i=c.find((function(e){return e.valueSet})),s=c.filter((function(e){return!e.valueSet})),o=null===r.content?null:function(e,t){var n,a=null===(n=e.entry)||void 0===n?void 0:n.find((function(e){var n,a;return"ValueSet"===(null===(n=e.resource)||void 0===n?void 0:n.resourceType)&&(null===(a=e.resource)||void 0===a?void 0:a.url)===t}));return void 0===a?null:a.resource}(r.content,we.a.evaluate(i,"valueSet")[0]);return Object(a.jsxs)(He.a,{children:[Object(a.jsx)(We,{children:Object(a.jsx)(h.a,{item:!0,xs:!0,children:Object(a.jsxs)("h4",{children:[we.a.evaluate(e,"resourceType")," ",t+1," (",we.a.evaluate(e,"reasonCode.coding.code"),")"]})})}),Object(a.jsx)(Je.a,{children:Object(a.jsxs)(h.a,{container:!0,item:!0,xs:!0,direction:"row",spacing:2,children:[Object(a.jsxs)(h.a,{container:!0,item:!0,xs:6,direction:"column",children:[Object(a.jsx)(h.a,{item:!0,xs:!0,children:Object(a.jsx)("h4",{children:"Requirements:"})}),Object(a.jsxs)(h.a,{item:!0,xs:!0,children:["Type:"," ",Object(a.jsx)(Ue.a,{href:"http://hl7.org/fhir/".concat(we.a.evaluate(e,"dataRequirement.type")),children:we.a.evaluate(e,"dataRequirement.type")})]}),Object(a.jsxs)(h.a,{item:!0,xs:!0,children:[Object(a.jsx)("h4",{children:"Codes:"}),Object(a.jsxs)("h5",{children:[we.a.evaluate(i,"path"),":"]})]}),Object(a.jsxs)(h.a,{item:!0,xs:!0,children:[null===o||void 0===o?void 0:o.name,":",Object(a.jsx)(ze.a,{style:{overflowWrap:"break-word"},children:Object(a.jsx)(Ue.a,{href:we.a.evaluate(i,"valueSet"),children:we.a.evaluate(i,"valueSet")})})]}),Object(a.jsx)(h.a,{item:!0,xs:!0,children:s.map((function(e){var t=we.a.evaluate(e,"path");return Object(a.jsxs)(h.a,{item:!0,xs:!0,children:[Object(a.jsxs)("h5",{children:[t,":"]}),Object(a.jsx)(h.a,{item:!0,xs:!0,children:we.a.evaluate(e,"code.code").map((function(e){return Object(a.jsxs)(h.a,{item:!0,xs:!0,children:["- ",e]},e)}))})]},t)}))}),Object(a.jsxs)(h.a,{item:!0,xs:!0,children:[Object(a.jsx)("h4",{children:"Dates:"}),we.a.evaluate(e,"dataRequirement.dateFilter").map((function(e){var t=we.a.evaluate(e,"path"),n=new Date(we.a.evaluate(e,"valuePeriod.start")).toDateString(),r=new Date(we.a.evaluate(e,"valuePeriod.end")).toDateString();return Object(a.jsxs)(h.a,{item:!0,xs:!0,children:[Object(a.jsxs)("h5",{children:[we.a.evaluate(e,"path"),":"]}),Object(a.jsxs)(h.a,{item:!0,xs:!0,children:["Invalid Date"===n?"any":n," -"," ","Invalid Date"===r?"any":r]})]},t)}))]}),Object(a.jsx)(h.a,{item:!0,xs:!0,children:Ve(e)})]}),Object(a.jsx)(h.a,{container:!0,item:!0,xs:!0,direction:"column",children:Object(a.jsxs)(h.a,{item:!0,xs:!0,children:[Object(a.jsx)("h4",{children:"Reason(s):"}),we.a.evaluate(e,"reasonCode").map((function(e){var t=we.a.evaluate(e,"coding.code"),n=we.a.evaluate(e,"coding.display"),r=we.a.evaluate(e,"coding.extension.where(url='ReasonDetail')")[0];return Object(a.jsxs)(h.a,{item:!0,xs:!0,children:["- ",t," (",n,")",r&&Object(a.jsxs)("div",{className:l.reasonDetail,"aria-owns":g?"mouse-over-popover":void 0,"aria-haspopup":"true",onMouseEnter:function(e){return v(e,r)},onMouseLeave:f,children:[we.a.evaluate(r,"extension.valueReference.reference")," (",we.a.evaluate(r,"extension.valueString"),")"]})]},t)}))]})})]})})]},n)}))]})},$e=n(950),_e=Object($e.a)({root:{padding:"20px"}}),et=function(){var e=_e(),t=Object(s.e)(I),n=Object(s.e)(k),r=Object(s.e)(D);return Object(a.jsx)("div",{className:e.root,children:Object(a.jsx)(Fe,{measureFile:n,patientFile:r,htmls:t})})},tt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1020)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},nt=n(205);l.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(s.a,{children:Object(a.jsxs)(nt.a,{children:[Object(a.jsx)(je.a,{path:"/fqm-execution-demo",children:Object(a.jsx)(Oe,{})}),Object(a.jsx)(je.a,{path:"/results",children:Object(a.jsx)(et,{})})]})})}),document.getElementById("root")),tt()}},[[947,1,2]]]);
//# sourceMappingURL=main.abbd216c.chunk.js.map